<div ng-controller="pageWithTopMenuController">


</div>

<div ng-controller="ItemController">

  <!-- begin breadcrumb -->

  <ol class="breadcrumb pull-right">

    <li><a href="javascript:;">Home</a></li>

    <li class="active">Items</li>

  </ol>

  <!-- end breadcrumb -->

  <!-- begin page-header -->

  <h1 class="page-header">Items <small></small></h1>

  <!-- end page-header -->

  

  <div class="row">

    <div class="col-md-5">

      <div class="panel panel-inverse">

        <div class="panel-heading">

          <div class="panel-heading-btn">

            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>

            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>

            <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>

          </div>

          <h4 class="panel-title">Add / Modify Item</h4>

        </div>

        <div class="panel-body">

          <form class="form-horizontal" method="post" name="validationForm" ng-submit="addItem();uploader.queue[0].upload();">

           <div class="form-group">

             <input type="hidden" class="form-control" ng-model="item.id" name="id" />

             <label class="control-label col-md-4" for="item">Item Name <span class="text-danger">*</span></label>

             <div class="col-md-6">

              <input type="text" class="form-control" ng-model="item.name" name="name" autocomplete="off" placeholder="Enter Item Name" required />

            </div> 

          </div>
          <div class="form-group">

           <input type="hidden" class="form-control" ng-model="item.id" name="id" />

           <label class="control-label col-md-4" for="item">Item Code <span class="text-danger">*</span></label>

           <div class="col-md-6">

            <input type="text" class="form-control" ng-model="item.code" name="code" autocomplete="off" placeholder="Enter Item Code" required />

          </div> 

        </div>

        <div class="form-group">

          <label class="control-label col-md-4" for="image">Image </label>

          <div class="col-md-6">

            <input  type="file" class="form-control" accept="image/*" nv-file-select="" uploader="uploader" name="image" />

            <div ng-show="item.image">  <img ng-src="uploads/items/{{item.image}}"  /></div> 

          </div>

          <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }"></div>

        </div>

        

        <div class="form-group">

          <label class="control-label col-md-4" for="usertype">Services <span class="text-danger">*</span> </label>

          <div class="col-md-6">

            <div checklistModel ></div>

            <div ng-repeat="s in services" class="checkbox">

              <label><input type="checkbox" checklist-model="item.sservices" checklist-value="s.id" ng-checked="" >{{s.name}}</label>

            </div>

          </div>

        </div>

        <div class="form-group">

          <label class="control-label col-md-4" for="usertype">Item Type <span class="text-danger">*</span> </label>

          <div class=" col-md-6">

            <div ng-repeat="it in itemtypes">

              <label class="radio-inline">
                <input type="radio" name="itemtype" ng-model="item.itemtype" value = "{{it.id}}" ng-checked="it.id==item.itemtype" required="required">{{it.name}}</label>

              </div>

            </div>

          </div>

          <div class="form-group m-b-0">

            <label class="control-label col-md-4"></label>

            <div class="col-md-6">

              <button type="submit" class="btn btn-primary width-xs">Submit</button>

            </div>

          </div>

        </form>

      </div>

    </div>

  </div>

  <div class="col-md-7">

    <div class="panel panel-inverse">

      <div class="panel-heading">

        <div class="panel-heading-btn">

          <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-default" data-click="panel-expand"><i class="fa fa-expand"></i></a>

          <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-reload"><i class="fa fa-repeat"></i></a>

          <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-warning" data-click="panel-collapse"><i class="fa fa-minus"></i></a>

        </div>

        <h4 class="panel-title">Items List</h4>

      </div>

      <div class="panel-body">
       <div class="table-responsive">
         <div class="col-md-3 search1">

          <input class="form-control" type="search" ng-model="search" name="search" placeholder="Search"  /><br />

        </div> 
        <table ng-table="tableParams"  class="table table-striped table-bordered nowrap" width="100%">
          <tbody>

            <tr ng-repeat="i in $data | filter:search" >

              <td data-title="'S.No'" sortable="'id'">{{i.id}}</td>

              <td data-title="'Item Name'" sortable="'name'">{{i.name}}-{{i.itype_id.name}}</td>
              
              <td data-title="'Item Code'" sortable="'code'">{{i.code}}</td>

              <td data-title="'Image'" >{{i.image}}</td>

              <td data-title="'Service Name'" ><span ng-repeat="ss in i.itemServices">{{ss.name}}, </span></td>

              <td data-title="'Status'" sortable="'status'"><img src="assets/img/{{i.status}}.png" ng-click="statusItem(i.id);" > </td>

              <td data-title="'Edit'"><img src="assets/img/edit.png" ng-click="editItem(i.id);" > </td>

            </tr>

            

          </tbody>

        </table>


      </div>

    </div> 

  </div>

</div>

</div>

</div>

